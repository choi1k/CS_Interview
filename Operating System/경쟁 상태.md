# 경쟁 상태(Race Condition)

공유 자원에 대해 여러 프로세스가 동시에 접근할 때, 결과값에 영향을 줄 수 있는 상태

동시 접근 발생 시 자료의 일관성을 해치는 결과가 나타남

### 경쟁 상태가 발생하는 경우

  1. 커널 작업 수행 시 인터럽트 발생
  
    문제 : 커널 모드에서 데이터를 로드하여 작업을 진행하는 중 인터럽트가 발생해 동일한 데이터를 조작

    해결 : 커널 모드로 작업 수행 시, 인터럽트를 disable 시켜 CPU 제어권을 가져가지 못하도록 함
      
  2. 프로세스가 System Call로 인해 커널 모드로 진입하여 작업을 수행하는 중 Context Switching이 발생
  
    문제 : 프로세스가 커널 모드에서 데이터를 조작하는 중 시간이 초과되어 CPU 제어권이 다른 프로세스로 넘어가 동일한 데이터를 조작

    해결 : 프로세스가 커널 모드에서 작업을 진행하는 경우 시간이 초과돼도 CPU 제어권이 다른 프로세스로 넘어가지 않도록 함
      
  3. 멀티 프로세서 환경에서 공유 메모리 내의 커널 데이터 접근 시

    문제 : 멀티 프로세서 환경에서 2개의  CPU가 동시에 커널 내부의 공유 데이터에 접근하여 조작

    해결 : 커널 내부에 있는 각 공유 데이터 접근 시, 해당 데이터에 대한 lock/unlock을 수행
